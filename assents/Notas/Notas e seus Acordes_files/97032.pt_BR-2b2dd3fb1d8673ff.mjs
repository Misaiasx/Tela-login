"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[97032],{298748:e=>{var n,l,i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[n,i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"}],type:"Pin",abstractKey:null};a.hash="9927ced98afae08f50c02180203fa8b0",e.exports=a},460863:e=>{var n,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImageUrls_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};l.hash="b7ea441f2c20a68b323088ebe3847835",e.exports=l},378518:(e,n,l)=>{l.d(n,{_:()=>r,a:()=>d});var i=l(667294),a=l(702664),t=l(594736),o=l(332611),s=l(780280);let r=({extraContext:e,id:n,shouldUsePlacedExperience:l=!0})=>{let r=(0,i.useRef)(),d=(0,a.useDispatch)(),{isBot:c}=(0,s.B)(),u=(0,a.useSelector)(e=>e.experiences[n]);return(0,i.useEffect)(()=>{d((0,o.kd)(n))},[d,u,n]),(0,i.useEffect)(()=>{l||(0,t.ZP)(r.current,e)||(d((0,o.pz)([n],c,e)),r.current=e)},[d,e,c,n,l]),u},d=e=>(r(e),(0,a.useSelector)(n=>n.experiencesMulti[e.id]))},53199:(e,n,l)=>{l.d(n,{Z:()=>o}),l(167912);var i,a=l(916117);let t=void 0!==i?i:i=l(460863),o=e=>{let n=(0,a.Z)(t,e),l=[["60x60",null==n?void 0:n.imageSpec_60x60],["136x136",null==n?void 0:n.imageSpec_136x136],["170x",null==n?void 0:n.imageSpec_170x],["236x",null==n?void 0:n.imageSpec_236x],["474x",null==n?void 0:n.imageSpec_474x],["564x",null==n?void 0:n.imageSpec_564x],["736x",null==n?void 0:n.imageSpec_736x],["600x315",null==n?void 0:n.imageSpec_600x315],["orig",null==n?void 0:n.imageSpec_orig]];return l.reduce((e,[n,l])=>l?{...e,[n]:l.url}:e,{})}},255607:(e,n,l)=>{function i(e){let n=Object.keys(e);if(n.length>0){let l=n.sort((n,l)=>e[l]-e[n]).slice(0,3);return l}return null}function a(e){let n=Object.values(e);if(n.length>0){let e=n.reduce((e,n)=>e+n,0);return e}return 0}function t({boardIsCollaborative:e,isDownstreamPromotion:n,isPromoted:l,storyPinDataId:i,videosId:a,isEligibleForStaticImageIdeaPin:t}){return!l&&!n&&(!!a||!!i)&&(null==e||!e)&&!t}l.d(n,{At:()=>i,J6:()=>t,Ud:()=>a})},914142:(e,n,l)=>{l.d(n,{Z:()=>d,j:()=>r});var i=l(883119),a=l(898781),t=l(349700),o=l(773285),s=l(785893);let r=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:n,sponsorName:l,sponsorshipStatus:d,textColor:c}){let u;let _=(0,a.ZP)(),p=(0,o.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;return n?u=(0,t.nk)(_.bt("Promovido por {{ name }}", "Promoted by {{ name }}", "sponsorship.sponsorshipText.promotedByBrand", undefined, true),{name:l}):d||0===d?l&&!r.includes(d)?u=(0,t.nk)(_.bt("Parceria paga com {{ name }}", "Paid partnership with {{ name }}", "closeup.creator.sponsoredPinTitle", undefined, true),{name:l}):2!==d&&(u=_.bt("Parceria paga", "Paid partnership", "closeup.creator.sponsoredPinTitle", undefined, true)):e&&(u=_.bt("Inclui produtos patrocinados", "Includes sponsored products", "sponsorship.sponsorshipText.affiliatedProducts", undefined, true)),(0,s.jsxs)(i.xv,{color:c,size:"100",children:[p&&!n&&"Ad • "||"",(0,s.jsx)(t.r7,{text:u})]})}},886076:(e,n,l)=>{l.d(n,{Z:()=>i});function i({isEligibleForPdp:e,isOosProduct:n,isStaleProduct:l,pinShoppingFlags:i}){if(i){let a={pin_is_shop_the_look:i.includes(2),pin_show_pdp:e||n||l,is_available:i.includes(1),is_product_pin_v2:i.includes(5),is_rich_product_pin:i.includes(6)};return JSON.stringify(a)}}},59729:(e,n,l)=>{l.d(n,{CC:()=>r,H$:()=>c,Mt:()=>o,dp:()=>d,p9:()=>u});var i=l(844974),a=l(339363),t=l(116485);let o=(e,n,l,a,o,s,r=t.k7)=>{let d=(0,i.qn)(r)?JSON.parse((0,i.qn)(r)):[];if(!d[0]||d[0].path!==e){let t=[{path:e,ts:Date.now(),pin_id:l||0,first_pin_image_signature:n||"",first_pin_id:l||"",image_info:a||"",pin_description:o||"",is_shared:!!s,pin_invite_code:s}];(0,i.Nh)(r,JSON.stringify(t.concat(d)))}},s=()=>{let e;let n=(0,a.qn)(t.KH);if(!n)return[];try{e=JSON.parse(n)}catch(n){e=[]}return e},r=({path:e,image:n,dominant_color:l,pin_description:i,pin_id:o})=>{let r=s();r[0]&&r[0].path===e||(0,a.Nh)(t.KH,JSON.stringify([{path:e,image:n,pin_description:i||"",dominant_color:l||"",pin_id:o||""}].concat(r)))};function d(e,n,l,i,a,s){o(e,n,l,i,a,s,t.zR)}let c=(e,n,l,i,a)=>{o(e,n,l,i,null!=a?a:"","",t.dy)};function u(e,n,l,i,a){o(e,n,l,i,a,"",t.QR)}},977734:(e,n,l)=>{l.d(n,{Z:()=>s});var i=l(214494),a=l(361115),t=l(723852),o=l(675752);function s({checkExperiment:e,history:n,i18n:l,logContextEvent:s,onSuccess:r,onUndo:d,originalPinId:c,pinId:u,trackingParams:_,disableRepinAnimation:p,showNewUserSavetoProfileAnimation:m,showRepinConfirmation:g,historyPush:h,savePinId:v}){return(x,y)=>{let{pins:b,session:k}=y(),{userId:w}=k,P=b[u],S=l.bt("Salvamentos rápidos", "Quick Saves", "quickSave.boardName", undefined, true);return i.Z.create("BoardResource",{name:S,layout:"quick_saves",protected:!1,return_existing:!0,user_id:w}).callCreate().then(i=>{var y,b,w,S;let f=i.resource_response.data;(0,a.ib)({checkExperiment:e,isAuthMweb:k.isAuthenticated&&(k.isMobile||k.isTablet)});let I=new t.Z({boardId:f.id,dispatch:x,isQuickSave:!0,history:n,i18n:l,onSuccess:r,onUndo:d,originalPinId:c,pinId:u,section:void 0,showNewUserSavetoProfileAnimation:m,showRepinToasts:e=>g?g(e,p):void 0,trackingParams:_,userId:k.userId,historyPush:h,savePinId:v,pinData:{trackingParams:P?P.tracking_params:void 0,viewParameter:P?(0,o.A)({hasRichMetadata:!!P.rich_metadata,hasRichMetadataProducts:!!(null!==(y=P.rich_metadata)&&void 0!==y&&y.products),hasRichMetadataArticle:!!(null!==(b=P.rich_metadata)&&void 0!==b&&b.article),hasRichMetadataRecipe:!!(null!==(w=P.rich_metadata)&&void 0!==w&&w.recipe)}):void 0,pinnedToBoardId:P?null===(S=P.pinned_to_board)||void 0===S?void 0:S.id:void 0}});return I.processRepin(s)})}}},248299:(e,n,l)=>{l.d(n,{Z:()=>s});var i=l(883119),a=l(898781),t=l(166300),o=l(785893);function s({isPinRep:e}){let n=(0,a.ZP)(),l=e?"default":"inverse",s=(0,o.jsx)(i.xu,{"data-test-id":"unavailable-pin",padding:e?1:0,children:(0,o.jsx)(i.xu,{color:e?"secondary":"dark",height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,top:!0,width:"100%",children:(0,o.jsxs)(i.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,o.jsx)(i.xu,{paddingY:4,children:(0,o.jsx)(i.JO,{accessibilityLabel:n.bt("Pin não disponível", "Pin not available", "story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel", undefined, true),color:l,icon:"alert",size:20})}),(0,o.jsx)(i.xv,{align:"center",color:l,weight:"bold",children:n.bt("Indisponível", "Unavailable", "story-pin.Closeup.UnavailableStoryPin.Unavailable", undefined, true)}),(0,o.jsx)(i.xu,{paddingY:1,children:(0,o.jsx)(i.xv,{align:"center",color:l,children:n.bt("Removido pelo criador de conteúdo", "Removed by the creator", "story-pin.Closeup.UnavailableStoryPin.Removed", undefined, true)})})]})})});return e?s:(0,o.jsx)(i.xu,{height:"100vh",children:(0,o.jsx)(t.Z,{children:s})})}},430235:(e,n,l)=>{l.d(n,{Z:()=>J});var i,a=l(667294),t=l(167912),o=l(616550),s=l(883119),r=l(407043),d=l(499128),c=l(898781),u=l(349700),_=l(248975),p=l(958007),m=l(992750),g=l(53199),h=l(773285),v=l(780280),x=l(862628),y=l(595371),b=l(743473),k=l(667679),w=l(867820),P=l(343341),S=l(829407),f=l(988744),I=l(920085),A=l(62409),L=l(529195),T=l(256588),j=l(350118),z=l(785893);let F=({children:e,onTap:n,testId:l})=>{let[i,t]=(0,a.useState)(!1);return(0,z.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0, 0, 0, 0.06)":void 0}},"data-test-id":`more-options-${l}`,paddingX:3,paddingY:2,role:"listitem",rounding:2,children:(0,z.jsx)(s.iP,{onBlur:()=>t(!1),onFocus:()=>t(!0),onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),onTap:n,children:e})})},U=void 0!==i?i:i=l(298748),D=({i18n:e,pinId:n,showSignupModal:l,attributionLabelSource:i})=>(0,z.jsx)(F,{onTap:()=>{(0,w.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:i}),l({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${i}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:n}}})},testId:"save",children:(0,z.jsx)(s.xv,{size:"200",weight:"bold",children:e.bt("Salvar imagem", "Save image", "dweb.unauth.context_menu.link.save_image", undefined, true)})},"SaveMenuItem"),K=e=>({invite_category:3,invite_channel:12,object_type:1,object_id:e}),O=({pinId:e,variant:n,onSendButtonClick:l,dismissPriorToast:i})=>{let t=(0,c.ZP)(),{logContextEvent:o}=(0,r.v)(),[d,u]=(0,a.useState)(null),[_,p]=(0,a.useState)(!1),{logShareInvite:m,createShareInviteData:g}=(0,b.Z)(),h=()=>{null===d||_||(p(!0),m(K(e),d))},v=()=>{o({event_type:101,component:14162,element:72,object_id_str:e})};return(0,S.Z)(()=>{let n=async()=>{let n=await g({invite_category:3,invite_channel:12,object_type:"pin",object_id:e,path:""});u(n)};n()}),"copy_link"===n?(0,z.jsxs)(s.xu,{"data-test-id":"post-download-copy-link",children:[t.bt("Imagem baixada no seu dispositivo ", "Image downloaded to your device. ", "context_menu.pin_downloaded.toastText", undefined, true),(0,z.jsx)(f.Z,{asLink:!0,buttonSize:"sm",hideInput:!0,linkURL:(null==d?void 0:d.invite_url)||"",onCopyText:t.bt("O link foi copiado na sua área de transferência para compartilhar", "Copied link to your clipboard to share", "context_menu.pin_downloaded.copy_link_button_activate", undefined, true),onDidClickCopyButton:()=>{h(),v()},onDidFocus:h,oneToast:!0,toastDuration:5e3})]}):(0,z.jsxs)(s.xu,{"data-test-id":"post-download-share-pin",children:[t.bt("Imagem baixada no seu dispositivo ", "Image downloaded to your device. ", "context_menu.pin_downloaded.toastText", undefined, true),(0,z.jsx)(s.rU,{accessibilityLabel:t.bt("Compartilhar Pin", "Share Pin", "context_menu.pin_downloaded.share_pin_button", undefined, true),display:"inline",href:"",onClick:()=>{i(),l(),v()},children:t.bt("Compartilhar Pin", "Share Pin", "context_menu.pin_downloaded.share_pin_button", undefined, true)})]})},R=({i18n:e,pinTitle:n,pinDescription:l,pinId:i,bestPinImgSrc:a,attributionLabelSource:t,logContextEvent:o,pinCategory:r,checkExperiment:c,showSignupModal:u,onSendButtonClick:_})=>{let{showOneToast:p}=(0,P.F9)(),{unauthUserStateDispatch:m}=(0,L.Rh)();return(0,z.jsx)(F,{onTap:()=>{let{expName:g,expGroup:h,limitReached:v,oldCount:x,newCount:y}=(0,I.H)(c,"dweb_download_in_context_menus_v3");if((0,w.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:t,expName:g,expGroup:h,limitReached:v,oldCount:x,newCount:y}),v){u({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${t}_download_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:i}}});return}(0,I.Z)({filename:n||l||i,imgSrc:a||"",category:r,pinId:i,isUnauth:!0,platform:"web",expName:g,expGroup:h,imageDownloadSuccessCallback:()=>m({type:"UPDATE"})},o);let b=h.includes("copy_link"),k=b?"copy_link":"sharesheet";p(({hideToast:n})=>(0,z.jsx)(d.ZP,{duration:5e3,onHide:n,text:(0,z.jsx)(s.xv,{color:"inverse",children:(0,z.jsx)(O,{dismissPriorToast:n,onSendButtonClick:_,pinId:i,variant:k})}),thumbnail:{image:(0,z.jsx)(s.Ee,{alt:e.bt("Imagem do Pin baixado", "Image of downloaded Pin", "context_menu.pin_downloaded.altImageText", undefined, true),fit:"cover",naturalHeight:32,naturalWidth:32,src:a||""})}}))},testId:"download",children:(0,z.jsx)(s.xv,{size:"200",weight:"bold",children:e.bt("Baixar imagem", "Download image", "Button to download Pin image", undefined, true)})},"DownloadMenuItem")},B=({pinId:e,pinLink:n,fromEllipsisButton:l,attributionLabelSource:i,showSignupModal:a,i18n:t})=>(0,z.jsx)(F,{onTap:()=>{(0,w.My)("dweb.unauth.context_menu.open_plp_new_tab",{attributionLabelSource:i}),window.open(l?n:`/pin/${e}/`),l||a({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}})},testId:"new-tab",children:(0,z.jsx)(s.xv,{size:"200",weight:"bold",children:t.bt("Abrir link em uma nova aba", "Open link in new tab", "dweb.unauth.context_menu.link.plp_new_tab", undefined, true)})},"NewTabMenuItem"),C=({history:e,levelOneInterestUrl:n,searchUrl:l,levelOneInterestName:i,i18n:a,interestTag:t,attributionLabelSource:o})=>(0,z.jsx)(F,{onTap:()=>{(0,w.My)("dweb.unauth.context_menu.see_more_pins",{attributionLabelSource:o}),n?e.push(`${n}`):e.push(l)},testId:"interests",children:i?(0,z.jsx)(s.xv,{lineClamp:2,size:"200",weight:"bold",children:(0,u.nk)(a.bt("Ver mais ideias sobre {{levelOneInterestName}}", "See more ideas about {{levelOneInterestName}}", "dweb.unauth.context_menu.link.see_more_ideas.l1", undefined, true),{levelOneInterestName:i})}):(0,z.jsx)(s.xv,{lineClamp:2,size:"200",weight:"bold",children:(0,u.nk)(a.bt("Ver mais ideias sobre {{interestTag}}", "See more ideas about {{interestTag}}", "dweb.unauth.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:t})})},"MoreInterestsMenuItem"),N=({attributionLabelSource:e,reportLink:n,i18n:l})=>(0,z.jsx)(a.Fragment,{children:(0,z.jsx)(F,{onTap:()=>{(0,w.My)("dweb.unauth.context_menu.report_pin_dsa",{attributionLabelSource:e}),window.open(n,"_blank")},testId:"dsa",children:(0,z.jsx)(s.xv,{size:"200",weight:"bold",children:l.bt("Denunciar Pin por violação da lei local da UE", "Report Pin for EU local law violation", "dweb.unauth.context_menu.link.report_pin_dsa", undefined, true)})})},"ReportForDSAMenuItem");function E({desktopContextMenuState:e,isMainPinImage:n,source:l,imagesUrls:i,embedSrc:a,embedType:t,pinJoinVisualAnnotation:u,pinJoinSeoBreadcrumbName:p,pinJoinSeoBreadcrumbUrl:m,pinId:g,pinLink:b,pinTitle:S,pinDescription:f,pinCategory:A,pinEligibleForDownload:L,onSendButtonClick:j,enabledUnauthContextMenu:F,anchor:U}){var K;let E=(0,c.ZP)(),M=(0,o.k6)(),{logContextEvent:Z}=(0,r.v)(),{countryFromIp:J,isBot:G,isSocialBot:$}=(0,v.B)(),{checkExperiment:q}=(0,h.F)(),{showOneToast:H}=(0,P.F9)(),Y=(0,_.Z)({imagesUrls:i,embedSrc:a,embedType:t,excludeOriginals:!G&&!$}),Q=null!==(K=null==u?void 0:u[0])&&void 0!==K?K:void 0,V=(0,x.Z)(Q),W=`/search/pins/?q=${encodeURIComponent(V)}&rs=${y.i.IMAGE_ONLY_ATTRIBUTION}`,X=(0,k.Z)(),ee="dweb.plp.ellipsis.button"===l,{COUNTRY_CODES:en}=T.LAW_CONFIGURATION.dsa,el=en.includes(J);if(!Y)return null;let ei=(0,_.Z)({imagesUrls:i,embedSrc:a,embedType:t,excludeOriginals:!G&&!$}),ea="related_pin_right_click";ee?ea="action_bar_ellipsis":n&&(ea="right_click");let et=`https://www.pinterest.com/about/dsa/?pinId=${g}`,eo=[{component:()=>D({i18n:E,pinId:g,showSignupModal:X,attributionLabelSource:ea})},{component:()=>L&&R({i18n:E,pinTitle:S,pinDescription:f,pinId:g,bestPinImgSrc:ei,attributionLabelSource:ea,logContextEvent:Z,pinCategory:A,checkExperiment:q,showSignupModal:X,onSendButtonClick:null!=j?j:()=>{}})},{component:()=>!(n||ee&&!b)&&B({i18n:E,pinId:g,pinLink:b,fromEllipsisButton:ee,showSignupModal:X,attributionLabelSource:ea})},{component:()=>!!(Q||p&&m)&&C({history:M,levelOneInterestUrl:m,searchUrl:W,levelOneInterestName:p,i18n:E,interestTag:Q,attributionLabelSource:ea})},{component:()=>el&&N({reportLink:et,i18n:E,attributionLabelSource:ea})}],es=eo.map(({component:e})=>e()).filter(e=>!!e);return F?(0,z.jsxs)(s.Lt,{anchor:U,disableMobileUI:!0,id:"desktop-context-menu",idealDirection:"down",onDismiss:()=>{},zIndex:new s.Ry(99999),children:[(0,z.jsx)(s.Lt.Item,{dataTestId:"pin-action-dropdown-save",onSelect:()=>{(0,w.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:ea}),X({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${ea}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:g}}})},option:{value:"saveImage",label:E.bt("Salvar imagem", "Save image", "dweb.unauth.context_menu.link.save_image", undefined, true)}}),L&&(0,z.jsx)(s.Lt.Item,{dataTestId:"pin-action-dropdown-download",onSelect:()=>{let{expName:e,expGroup:n,limitReached:l,oldCount:i,newCount:a}=(0,I.H)(q,"dweb_download_in_context_menus_v3");if((0,w.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:ea,expName:e,expGroup:n,limitReached:l,oldCount:i,newCount:a}),l){X({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${ea}_download_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:g}}});return}(0,I.Z)({filename:S||f||g,imgSrc:ei||"",category:A,pinId:g,isUnauth:!0,platform:"web",expName:e,expGroup:n},Z);let t=n.includes("copy_link"),o=t?"copy_link":"sharesheet";H(({hideToast:e})=>(0,z.jsx)(d.ZP,{duration:5e3,onHide:e,text:(0,z.jsx)(s.xv,{color:"inverse",children:(0,z.jsx)(O,{dismissPriorToast:e,onSendButtonClick:null!=j?j:()=>{},pinId:g,variant:o})}),thumbnail:{image:(0,z.jsx)(s.Ee,{alt:E.bt("Imagem do Pin baixado", "Image of downloaded Pin", "context_menu.pin_downloaded.altImageText", undefined, true),fit:"cover",naturalHeight:32,naturalWidth:32,src:ei||""})}}))},option:{value:"downloadImage",label:E.bt("Baixar imagem", "Download image", "Button to download Pin image", undefined, true)}}),el&&(0,z.jsx)(s.Lt.Item,{dataTestId:"pin-action-dropdown-report",onSelect:()=>{(0,w.My)("dweb.unauth.context_menu.report_pin_dsa",{attributionLabelSource:ea}),window.open(et,"_blank")},option:{value:"reportPin",label:E.bt("Denunciar Pin por violação da lei local da UE", "Report Pin for EU local law violation", "dweb.unauth.context_menu.link.report_pin_dsa", undefined, true)}})]}):(0,z.jsxs)(s.xu,{borderStyle:"shadow",color:"default",dangerouslySetInlineStyle:{__style:{top:`${e.y}px`,left:`${e.x}px`}},"data-test-id":"desktop-context-menu",direction:"column",display:"flex",maxWidth:250,paddingX:2,paddingY:3,position:"fixed",rounding:2,zIndex:new s.Ry(99999),children:[(0,z.jsx)(s.xu,{paddingX:3,paddingY:2,role:"img",rounding:2,children:(0,z.jsx)(s.JO,{accessibilityLabel:E.bt("Logotipo do Pinterest", "Pinterest logo", "dweb.unauth.context_menu.pinterest_logo", undefined, true),color:"brandPrimary",icon:"pinterest"})}),es]})}function M({graphqlRef:e,pinId:n,useNativeCreatorAsPinner:l,onSendButtonClick:i,...a}){var o,s,r,d,c,u,_,h,v,x,y,b,k,w,P,S,f;let I;let A=(0,t.useFragment)(U,e),L=(0,g.Z)({type:"graphqlRef",data:A}),T=!!A.storyPinDataId,j=!!(null===(o=A.videos)||void 0===o?void 0:o.videoList),{isUnsafe:F}=A;(I=A.nativeCreator?A.nativeCreator:A.linkDomain?A.linkDomain.officialUser:A.originPinner||A.pinner)||(I=null!==(S=null===(f=A.linkDomain)||void 0===f?void 0:f.officialUser)&&void 0!==S?S:A.pinner);let{storyPinDataId:D}=A,K=null!==(s=null===(r=A.richSummary)||void 0===r?void 0:r.displayName)&&void 0!==s?s:"",O=null!==(d=null===(c=A.richMetadata)||void 0===c?void 0:c.title)&&void 0!==d?d:"",R=null!==(u=null===(_=A.richMetadata)||void 0===_?void 0:_.description)&&void 0!==u?u:"",B=null===(h=A.storyPinData)||void 0===h?void 0:null===(v=h.metadata)||void 0===v?void 0:v.pinTitle,C=(null===(x=A.pinJoin)||void 0===x?void 0:x.visualAnnotation)||void 0,N=A.category||"",M=(0,m.Ly)({pinTitle:A.title,gridTitle:A.gridTitle,richSummaryDisplayName:K,richMetadataTitle:O,storyPinDataId:D,storyPinDataMetadataPinTitle:B,pinJoinVisualAnnotation:C}),Z=(0,p.Z)({storyPinDataId:D,pinDescription:A.description,richMetadataDescription:R,richSummaryDisplayName:K,closeupDescription:A.closeupDescription,closeupUnifiedDescription:A.closeupUnifiedDescription});return(0,z.jsx)(E,{...a,embedSrc:A.embed&&A.embed.src,embedType:A.embed&&A.embed.type,imagesUrls:L,onSendButtonClick:i,pinCategory:N,pinDescription:Z,pinEligibleForDownload:!!(!T&&!j&&!F&&i),pinId:n,pinJoinSeoBreadcrumbName:(null===(y=A.pinJoin)||void 0===y?void 0:y.seoBreadcrumbs)&&(A.pinJoin.seoBreadcrumbs.length>0?A.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null===(b=A.pinJoin)||void 0===b?void 0:b.seoBreadcrumbs)&&(A.pinJoin.seoBreadcrumbs.length>0?A.pinJoin.seoBreadcrumbs[0].url:null),pinJoinVisualAnnotation:null===(k=A.pinJoin)||void 0===k?void 0:k.visualAnnotation,pinTitle:M,sourceUserFullname:null===(w=I)||void 0===w?void 0:w.fullName,sourceUserUsername:null===(P=I)||void 0===P?void 0:P.username})}function Z({graphqlRef:e,pinId:n,useNativeCreatorAsPinner:l,onSendButtonClick:i,...a}){var t,o,s,r,d,c,u,_,h,v,x,y,b,k,w,P,S;let f=(0,j.S6)()(n),I=(0,g.Z)(null!=f?{type:"deprecated",data:f}:null),L=null==f?void 0:f.story_pin_data_id,T=null==f?void 0:f.videos,F=!!L,U=!!(null!=T&&T.video_list),D=null==f?void 0:f.title,K=null==f?void 0:f.description,O=null==f?void 0:f.grid_title,R=null!==(t=null==f?void 0:null===(o=f.rich_metadata)||void 0===o?void 0:o.title)&&void 0!==t?t:"",B=null==f?void 0:f.category,C=null!==(s=null==f?void 0:null===(r=f.rich_metadata)||void 0===r?void 0:r.description)&&void 0!==s?s:"",N=null!==(d=null==f?void 0:null===(c=f.rich_summary)||void 0===c?void 0:c.display_name)&&void 0!==d?d:"",M=null==f?void 0:f.closeup_description,Z=null==f?void 0:f.closeup_unified_description,J=null==f?void 0:null===(u=f.story_pin_data)||void 0===u?void 0:null===(_=u.metadata)||void 0===_?void 0:_.pin_title,G=null==f?void 0:null===(h=f.pin_join)||void 0===h?void 0:h.visual_annotation,$=null==f?void 0:f.is_unsafe,{link_domain:q,native_creator:H,origin_pinner:Y,pinner:Q}=f||{},V=(0,A.wS)(q,H,Y,Q);V||(V=null!==(P=null==f?void 0:null===(S=f.link_domain)||void 0===S?void 0:S.official_user)&&void 0!==P?P:null==f?void 0:f.pinner);let{full_name:W,username:X}=null!==(v=V)&&void 0!==v?v:{},ee=(0,m.Ly)({pinTitle:D,gridTitle:O,richSummaryDisplayName:N,richMetadataTitle:R,storyPinDataId:L,storyPinDataMetadataPinTitle:J,pinJoinVisualAnnotation:G}),en=(0,p.Z)({storyPinDataId:L,pinDescription:K,richMetadataDescription:C,richSummaryDisplayName:N,closeupDescription:M,closeupUnifiedDescription:Z});return(0,z.jsx)(E,{...a,embedSrc:null==f?void 0:null===(x=f.embed)||void 0===x?void 0:x.src,embedType:null==f?void 0:null===(y=f.embed)||void 0===y?void 0:y.type,imagesUrls:I,onSendButtonClick:i,pinCategory:B,pinDescription:en,pinEligibleForDownload:!!(!F&&!U&&!$&&i),pinId:n,pinJoinSeoBreadcrumbName:(null==f?void 0:null===(b=f.pin_join)||void 0===b?void 0:b.seo_breadcrumbs)&&(f.pin_join.seo_breadcrumbs.length>0?f.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==f?void 0:null===(k=f.pin_join)||void 0===k?void 0:k.seo_breadcrumbs)&&(f.pin_join.seo_breadcrumbs.length>0?f.pin_join.seo_breadcrumbs[0].url:null),pinJoinVisualAnnotation:null==f?void 0:null===(w=f.pin_join)||void 0===w?void 0:w.visual_annotation,pinTitle:ee,sourceUserFullname:W,sourceUserUsername:X})}function J(e){return e.graphqlRef?(0,z.jsx)(M,{...e,graphqlRef:e.graphqlRef}):(0,z.jsx)(Z,{...e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/97032.pt_BR-2b2dd3fb1d8673ff.mjs.map